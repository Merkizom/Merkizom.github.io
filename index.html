import random
import os
import time

# ‚Äî‚Äî ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° ‚Äî‚Äî
def clear():
    os.system('cls' if os.name == 'nt' else 'clear')

def render(player_hp, enemy_hp, player_cards, enemy_cards):
    clear()
    print("===== ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡πÄ‡∏ö‡∏™ (Text UI ‡πÑ‡∏ó‡∏¢) =====\n")

    # ‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π (‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡πÄ‡∏£‡∏≤ ‡∏à‡∏≤‡∏Å‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤)
    print(" " * 40 + "  ‡πÜ  " + f"(HP: {enemy_hp})")
    print(" " * 37 + " /‚ñà\\ ")
    print(" " * 37 + " / \\ \n")

    # ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏≤‡∏á
    print("-" * 50)
    print()

    # ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏£‡∏≤ (‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏≤‡∏ã‡πâ‡∏≤‡∏¢)
    print(f"‡πê  (HP: {player_hp})")
    print("/‚ñà\\")
    print("/ \\ \n")

    # ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î
    print("‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:")
    for i, c in enumerate(player_cards, 1):
        print(f"{i}. {c['name']} ({c['type']} {c['value']})")

    print("\n‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π:")
    for i, c in enumerate(enemy_cards, 1):
        print(f"{i}. ?")
    print()

# ‚Äî‚Äî ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‚Äî‚Äî
CARD_POOL = [
    {"name": "‚öîÔ∏è ‡πÇ‡∏à‡∏°‡∏ï‡∏µ 4", "type": "atk", "value": 4},
    {"name": "‚öîÔ∏è ‡πÇ‡∏à‡∏°‡∏ï‡∏µ 6", "type": "atk", "value": 6},
    {"name": "‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô 3", "type": "heal", "value": 3},
    {"name": "‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô 5", "type": "heal", "value": 5},
]

def draw_hand(n=3):
    return random.sample(CARD_POOL, n)

def apply_card(card, caster, target):
    if card["type"] == "atk":
        target["hp"] -= card["value"]
        print(f">> {caster['name']} ‡πÇ‡∏à‡∏°‡∏ï‡∏µ {target['name']} ‡πÅ‡∏ó‡∏á {card['value']} ‡∏î‡∏≤‡πÄ‡∏°‡∏à!")
    elif card["type"] == "heal":
        caster["hp"] += card["value"]
        print(f">> {caster['name']} ‡∏ü‡∏∑‡πâ‡∏ô HP {card['value']}")

# ‚Äî‚Äî ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏° ‚Äî‚Äî
player = {"name": "‡∏Ñ‡∏∏‡∏ì", "hp": 20}
enemy = {"name": "‡∏®‡∏±‡∏ï‡∏£‡∏π", "hp": 20}
turn = 1

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
while True:
    player_hand = draw_hand()
    enemy_hand = draw_hand()

    render(player["hp"], enemy["hp"], player_hand, enemy_hand)

    # ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
    choice = None
    while choice not in [1, 2, 3]:
        try:
            choice = int(input("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì [1-3]: "))
        except ValueError:
            continue

    selected = player_hand[choice - 1]
    apply_card(selected, player, enemy)
    time.sleep(1)

    if enemy["hp"] <= 0:
        print("\nüéâ ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞‡πÅ‡∏•‡πâ‡∏ß! üéâ")
        break

    # ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏®‡∏±‡∏ï‡∏£‡∏π (‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î)
    enemy_choice = random.choice(enemy_hand)
    apply_card(enemy_choice, enemy, player)
    time.sleep(1)

    if player["hp"] <= 0:
        print("\nüí• ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏û‡πâ‡πÅ‡∏•‡πâ‡∏ß! üí•")
        break

    turn += 1
    print("\n--- ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ---\n")
    time.sleep(1.5)

print("\n‡∏à‡∏ö‡πÄ‡∏Å‡∏° ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô :)")
